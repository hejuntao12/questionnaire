<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Image Survey HTML Form by templatemo</title>

    <!-- load CSS -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,600">
    <!-- Google web font "Open Sans" -->
    <link rel="stylesheet" href="css/materialize.min.css">
    <!-- https://materializecss.com -->
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="css/all.min.css">
    <!-- https://fontawesome.com/ -->
    <link rel="stylesheet" href="css/templatemo-style.css">
    <!-- Template Mo style -->

</head>

<body onload='init()'>
    <div class="container">
        <div class="row">
            <div class="col-sm-12 col-md-7">
                <i class="far fa-comments fa-4x tm-site-icon"></i>
                <h1 class="tm-site-name">OASIS</h1>
            </div>
        </div>
        <div class="row">
            <div class="col-12">
                <div class="tm-parallax"></div>
            </div>
        </div>
        <div class="row" style="margin-bottom: 0">
            <div class="tm-intro">
                <div class="col-sm-12 col-md-8 mb-md-0 mb-4 tm-intro-left">
                    <p class="mb-0" style="font-size: 24px;">您好！感谢您参与本研究。问卷数据仅作本次研究使用，
                        <span style="color:#fe2419;">问卷所有题目均无对错之分</span>，
                        请您根据自己的感觉填写答案即可。</p>
                </div>
                <div class="col-sm-12 col-md-4">
                    <p class="tm-highlight">下列5个项目询问的是有关焦虑和害怕的情况，
                        在每个项目中，圈出最符合你过去一周体验的数字。</p>
                </div>
            </div>
            <div class="col-12">
                <hr>
            </div>
        </div>

        <form action="" method="post" onsubmit="return check()">
            <div class="row content-ques">
                <div class="col-12">
                    <h2 class="tm-question-header">1. 在过去的一周里，你感觉到焦虑的频率：</h2>
                    <p>Fusce feugiat, est dignissim feugiat dapibus, arcu lacus varius dolor, vel auctor odio lectus
                        sed diam. Ut gravida tristique lacus, sed molestie tellus faucibus non.</p>
                    <div class="tm-q-choice-container">
                        <label class="tm-q-choice">
                            <div class="mb-3">
                                <input class="tm-radio-group-1 with-gap" name="q1" type="radio" value="q1_a1" />
                                <span>A. Pellentesque quis matus</span>
                            </div>
                        </label>
                        <br />
                        <label class="tm-q-choice">
                            <div class="mb-3">
                                <input class="tm-radio-group-1 with-gap" name="q1" type="radio" value="q1_a2" />
                                <span>B. Morbi faucibus tellus</span>
                            </div>
                        </label>
                        <br />
                        <label class="tm-q-choice">
                            <div class="mb-3">
                                <input class="tm-radio-group-1 with-gap" name="q1" type="radio" value="q1_a3" />
                                <span>C. Ut ullamcorper orci eget</span>
                            </div>
                        </label>
                        <br />
                        <label class="tm-q-choice">
                            <div class="mb-3">
                                <input class="tm-radio-group-1 with-gap" name="q1" type="radio" value="q1_a4" />
                                <span>D. Sed nec faucibus ex</span>
                            </div>
                        </label>
                        <br />
                        <label class="tm-q-choice">
                            <div class="mb-3">
                                <input class="tm-radio-group-1 with-gap" name="q1" type="radio" value="q1_a5" />
                                <span>E. Maecenas pretium</span>
                            </div>
                        </label>
                    </div>
                </div> <!-- col-12 -->
                <div class="col-12">
                    <hr>
                </div>
                <div class="col-12">
                    <h2 class="tm-question-header tm-question-header-mt">Question 2</h2>
                    <p>Aliquam blandit eros eget sollicitudin venenatis. Maecenas sagittis dui id neque convallis
                        scelerisque. Nullam lobortis ex nibh, id fringilla arcu varius at. Morbi tincidunt dignissim
                        ante id aliquet.</p>
                    <div class="tm-q-choice-container">
                        <label class="tm-q-choice tm-q-choice-2-col">
                            <div class="mb-3">
                                <input type="checkbox" name="q2[]" class="filled-in tm-checkbox" value="q2_a1" />
                                <span>Option 1</span>
                            </div>
                            <img src="img/img-1x1-1.jpg" alt="Image" class="img-fluid">
                        </label>
                        <label class="tm-q-choice tm-q-choice-2-col">
                            <div class="mb-3">
                                <input type="checkbox" name="q2[]" class="filled-in tm-checkbox" value="q2_a2" />
                                <span>Option 2</span>
                            </div>
                            <img src="img/img-1x1-2.jpg" alt="Image" class="img-fluid">
                        </label>
                        <label class="tm-q-choice tm-q-choice-2-col">
                            <div class="mb-3">
                                <input type="checkbox" name="q2[]" class="filled-in tm-checkbox" value="q2_a3" />
                                <span>Option 3</span>
                            </div>
                            <img src="img/img-1x1-3.jpg" alt="Image" class="img-fluid">
                        </label>
                        <label class="tm-q-choice tm-q-choice-2-col">
                            <div class="mb-3">
                                <input type="checkbox" name="q2[]" class="filled-in tm-checkbox" value="q2_a4" />
                                <span>Option 4</span>
                            </div>
                            <img src="img/img-1x1-4.jpg" alt="Image" class="img-fluid">
                        </label>
                        <label class="tm-q-choice tm-q-choice-2-col">
                            <div class="mb-3">
                                <input type="checkbox" name="q2[]" class="filled-in tm-checkbox" value="q2_a5" />
                                <span>Option 5</span>
                            </div>
                            <img src="img/img-1x1-5.jpg" alt="Image" class="img-fluid">
                        </label>
                    </div>
                </div> <!-- col-12 -->
                <div class="col-12">
                    <hr>
                </div>
                <div class="col-12">
                    <h2 class="tm-question-header tm-question-header-mt">Question 3</h2>
                    <p class="mb-0">In tincidunt non nisl quis posuere. Praesent justo libero, eleifend at rhoncus a,
                        ultrices non
                        mi. Pellentesque quis metus a nulla commodo consectetur. In ultricies lorem accumsan, euismod
                        tellus egestas.</p>
                    <div class="tm-q-choice-container">
                        <label class="tm-q-choice tm-q-choice-2-col">
                            <img src="img/img-2x3-1.jpg" alt="Image" class="img-fluid">
                            <div class="mt-4">
                                <input type="radio" name="q3" class="tm-radio-group-2 with-gap" value="q3_a1" />
                                <span>Image 1</span>
                            </div>
                        </label>
                        <label class="tm-q3-choice tm-q-choice-2-col">
                            <img src="img/img-2x3-2.jpg" alt="Image" class="img-fluid">
                            <div class="mt-4">
                                <input type="radio" name="q3" class="tm-radio-group-2 with-gap" value="q3_a2" />
                                <span>Image 2</span>
                            </div>
                        </label>
                        <label class="tm-q3-choice tm-q-choice-2-col">
                            <img src="img/img-2x3-3.jpg" alt="Image" class="img-fluid">
                            <div class="mt-4">
                                <input type="radio" name="q3" class="tm-radio-group-2 with-gap" value="q3_a3" />
                                <span>Image 3</span>
                            </div>
                        </label>
                        <label class="tm-q3-choice tm-q-choice-2-col">
                            <img src="img/img-2x3-4.jpg" alt="Image" class="img-fluid">
                            <div class="mt-4">
                                <input type="radio" name="q3" class="tm-radio-group-2 with-gap" value="q3_a4" />
                                <span>Image 4</span>
                            </div>
                        </label>
                        <label class="tm-q3-choice tm-q-choice-2-col">
                            <img src="img/img-2x3-5.jpg" alt="Image" class="img-fluid">
                            <div class="mt-4">
                                <input type="radio" name="q3" class="tm-radio-group-2 with-gap" value="q3_a5" />
                                <span>Image 5</span>
                            </div>
                        </label>
                    </div> <!-- choices container -->
                </div> <!-- col-12 -->
            </div> <!-- row -->
            <div class="col-12 text-center tm-submit-container">
                <button id="submit" type="submit" class="btn btn-primary tm-btn-submit">提交</button>
            </div>
            <div class="col-12">
                <hr>
            </div>
        </form>
        <div class="row">
          <div class="col-12">
                <footer>
                    <p class="text-center mb-3 tm-footer-text">Copyright &copy; TemplateMo 2018 HJT</p>
                </footer>
            </div>
        </div>
    </div>
    <script src="js/jquery-3.3.1.min.js"></script>
    <script src="js/materialize.min.js"></script>
    <script src="js/template-native.js"></script>
    <script src="js/common.js"></script>
    <script src="js/config.js"></script>
    <script type="text/templete" id="radio-ques">
        <% for(var i = 0; i < record.length; i++){ var item=record[i]; %>
        <div class="col-12">
            <h2 class="tm-question-header" id="ques<%=(i+1)%>"><%=item.title%></h2>
            <div class="tm-q-choice-container" id="option<%=(i+1)%>">
                <% for(var j = 0; j < item.content.length; j++){ var res=item.content[j]; %>
                <label class="tm-q-choice" id="item-lab<%=(j+1)%>">
                    <div class="mb-3">
                        <input class="tm-radio-group-1 with-gap" name="q<%=(i+1)%>" type="radio" value=<%=res.value%> />
						<span><%=res.lab%></span>
					</div>
				</label>
				<br />
				<% } %>
		    </div>
		</div>
		<%if (i < record.length - 1){ %>
        <div class="col-12">
            <hr>
        </div>
		<% } %>
		<% } %>
    </script>
    <script>
        //相关的处理事件，动态获取时只需要将for循环替换为AJAX的SUCCESS事件中去就好了。
        //$("#generate").on("click", function() {
        var init = function(){
            template.config('escape', false);
            //定义参数类型
            $.ajax({
                url: '/paper',
                type: 'get',
                data: {
                    "username": getQueryString("username")
                },
                success:function(res){
                    alert('成功');
                }
            });
            //追加模板消息
            var str = template('radio-ques', {
                "record": testRecord
            });
            //$(".mui-content").html(str);
            document.querySelector('.content-ques').innerHTML = str;
        }
    </script>
    <script>
        function check(){
            var radioName = new Array();
            $(":radio").each(function(){
                radioName.push($(this).attr("name"));
            });
            radioName.sort();
            $.unique(radioName);
            for(var i in radioName) {
                if(!checkRadio(radioName[i])){
                    alert("您还有未选择项，请选择，谢谢~");
                    return false;
                }
            };
        }
        function checkRadio(radioName) {
            return $("input[name=" + radioName + "]:checked").val() == null ? false : true;
        }
            // Parallax function
        // https://codepen.io/roborich/pen/wpAsm
        var background_image_parallax = function ($object, multiplier) {
            multiplier = typeof multiplier !== 'undefined' ? multiplier : 0.5;
            multiplier = 1 - multiplier;
            var $doc = $(document);
            $object.css({ "background-attatchment": "fixed" });
            $(window).scroll(function () {
                var from_top = $doc.scrollTop(),
                    bg_css = 'center ' + (multiplier * from_top - 200) + 'px';
                $object.css({ "background-position": bg_css });
            });
        };

        /**
         * detect IE
         * returns version of IE or false, if browser is not Internet Explorer
         */
        function detectIE() {
            var ua = window.navigator.userAgent;

            var msie = ua.indexOf('MSIE ');
            if (msie > 0) {
                // IE 10 or older => return version number
                return parseInt(ua.substring(msie + 5, ua.indexOf('.', msie)), 10);
            }

            var trident = ua.indexOf('Trident/');
            if (trident > 0) {
                // IE 11 => return version number
                var rv = ua.indexOf('rv:');
                return parseInt(ua.substring(rv + 3, ua.indexOf('.', rv)), 10);
            }

            // var edge = ua.indexOf('Edge/');
            // if (edge > 0) {
            //     // Edge (IE 12+) => return version number
            //     return parseInt(ua.substring(edge + 5, ua.indexOf('.', edge)), 10);
            // }

            // other browser
            return false;
        }

        $(document).ready(function () {

            // Detect IE
            if (detectIE()) {
                alert('为了更好的使用体验，请使用Chrome, Firefox, 或Edge浏览器。');
            }

            $('select').formSelect();
            // Parallax image background
            background_image_parallax($(".tm-parallax"), 0.40);

            // Darken image when its radio button is selected
            $(".tm-radio-group-1").click(function () {
                $('.tm-radio-group-1').parent().siblings("img").removeClass("darken");
                $(this).parent().siblings("img").addClass("darken");
            });

            $(".tm-radio-group-2").click(function () {
                $('.tm-radio-group-2').parent().siblings("img").removeClass("darken");
                $(this).parent().siblings("img").addClass("darken");
            });

            $(".tm-checkbox").click(function () {
                $(this).parent().siblings("img").toggleClass("darken");
            })
        });
    </script>
</body>

</html>